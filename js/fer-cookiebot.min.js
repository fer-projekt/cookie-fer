class FerCookieBot{constructor(e,t,a={}){this.googleTagId=e,this.facebookPixelId=t||null,this.dialogId="consentDialog",this.language=document.documentElement.lang||"en",this.loadGTagScript().then((()=>{this.translations=this.defineTranslations();const e=this.translations[this.language]||this.translations.en;this.translatedOptions={...e,...a},this.initDataLayer(),this.initializeConsentMode(),this.createConsentDialog(),this.loadConsentSettings(),this.checkDialogState(),this.attachEventListeners()})).catch((e=>{console.error("Failed to load Google Tag:",e)}))}initDataLayer(){window.dataLayer=window.dataLayer||[],window.dataLayer.push(arguments)}gtag(e,...t){window.dataLayer.push([e,...t])}loadGTagScript(){return new Promise(((e,t)=>{const a=document.createElement("script");a.async=!0,a.src=`https://www.googletagmanager.com/gtag/js?id=${this.googleTagId}`,a.onload=e,a.onerror=t,document.head.appendChild(a)}))}addFacebookPixel(){var e,t,a,i,o,n;this.facebookPixelId&&/^\d{15}$/.test(this.facebookPixelId)&&(e=window,t=document,a="script",e.fbq||(i=e.fbq=function(){i.callMethod?i.callMethod.apply(i,arguments):i.queue.push(arguments)},e._fbq||(e._fbq=i),i.push=i,i.loaded=!0,i.version="2.0",i.queue=[],(o=t.createElement(a)).async=!0,o.src="https://connect.facebook.net/en_US/fbevents.js",(n=t.getElementsByTagName(a)[0]).parentNode.insertBefore(o,n)),fbq("init",this.facebookPixelId),fbq("track","PageView"),this.addFacebookPixelNoscript())}addFacebookPixelNoscript(){const e=document.createElement("noscript"),t=document.createElement("img");t.height=1,t.width=1,t.style.display="none",t.src=`https://www.facebook.com/tr?id=${this.facebookPixelId}&ev=PageView&noscript=1`,e.appendChild(t),document.body.insertBefore(e,document.body.firstChild)}initializeConsentMode(){this.gtag("js",new Date),this.gtag("consent","default",{ad_storage:"denied",ad_user_data:"denied",ad_personalization:"denied",analytics_storage:"denied",functionality_storage:"denied",personalization_storage:"denied",security_storage:"denied",wait_for_update:500}),this.gtag("config",this.googleTagId)}updateConsent(e,t,a,i,o,n,s){this.gtag("consent","update",{ad_storage:e?"granted":"denied",ad_user_data:t?"granted":"denied",ad_personalization:a?"granted":"denied",analytics_storage:i?"granted":"denied",functionality_storage:o?"granted":"denied",personalization_storage:n?"granted":"denied",security_storage:s?"granted":"denied"}),localStorage.setItem("consentSettings",JSON.stringify({adStorage:e,adUserData:t,adPersonalization:a,analyticsStorage:i,functionalityStorage:o,personalizationStorage:n,securityStorage:s}))}createConsentDialog(){const e=document.createElement("dialog");e.id="consentDialog",document.body.appendChild(e);const t=document.createElement("div");t.id="consent_title",t.innerText=this.translatedOptions.title,e.appendChild(t);[{id:"necessary_cookies",text:this.translatedOptions.necessary_cookies_title,disabled:!0,checked:!0},{id:"ad_storage",text:this.translatedOptions.ad_storage_title},{id:"ad_user_data",text:this.translatedOptions.ad_user_data_title},{id:"ad_personalization",text:this.translatedOptions.ad_personalization_title},{id:"analytics_storage",text:this.translatedOptions.analytics_storage_title},{id:"functionality_storage",text:this.translatedOptions.functionality_storage_title},{id:"personalization_storage",text:this.translatedOptions.personalization_storage_title},{id:"security_storage",text:this.translatedOptions.security_storage_title}].forEach((t=>{const a=document.createElement("label");a.className="consent-item";const i=document.createElement("input");i.type="checkbox",i.id=t.id,t.disabled&&(i.disabled=!0),t.checked&&(i.checked=!0);const o=document.createTextNode(" "+t.text);a.appendChild(i),a.appendChild(o),e.appendChild(a)}));const a=document.createElement("div");a.id="consent_text",a.innerHTML=this.translatedOptions.consent_text+" "+this.translatedOptions.consent_link,e.appendChild(a);const i=document.createElement("button");i.id="saveAcceptAllCookieBotPreferences",i.className="consent-button",i.innerText=this.translatedOptions.accept_all_button_title;const o=document.createElement("button");o.id="saveRefuseAllCookieBotPreferences",o.className="consent-button",o.innerText=this.translatedOptions.refuse_all_button_title;const n=document.createElement("button");n.id="saveCookieBotPreferences",n.className="consent-button",n.innerText=this.translatedOptions.button_title,e.appendChild(i),e.appendChild(o),e.appendChild(n)}acceptAndSaveAll(){this.updateConsent(!0,!0,!0,!0,!0,!0,!0),this.loadConsentSettings(),localStorage.setItem("dialogState","closed"),this.closeDialog()}refuseAndSaveAll(){this.updateConsent(!1,!1,!1,!1,!1,!1,!1),this.loadConsentSettings(),localStorage.setItem("dialogState","closed"),this.closeDialog()}loadConsentSettings(){const e=JSON.parse(localStorage.getItem("consentSettings"));e&&(document.getElementById("ad_storage").checked=e.adStorage,document.getElementById("ad_user_data").checked=e.adUserData,document.getElementById("ad_personalization").checked=e.adPersonalization,document.getElementById("analytics_storage").checked=e.analyticsStorage,document.getElementById("functionality_storage").checked=e.functionalityStorage,document.getElementById("personalization_storage").checked=e.personalizationStorage,document.getElementById("security_storage").checked=e.securityStorage),e&&1==e.adStorage&&1==e.adUserData&&this.addFacebookPixel()}checkDialogState(){"closed"===localStorage.getItem("dialogState")?this.closeDialog():this.openDialog()}openDialog(){const e=document.getElementById(this.dialogId);e?e.showModal():console.error("Dialog element not found")}closeDialog(){const e=document.getElementById(this.dialogId);e&&e.close()}attachEventListeners(){const e=document.getElementById("saveCookieBotPreferences");e&&e.addEventListener("click",(()=>{this.saveCookieBotPreferences()}));const t=document.getElementById("saveAcceptAllCookieBotPreferences");t&&t.addEventListener("click",(()=>{this.acceptAndSaveAll()}));const a=document.getElementById("saveRefuseAllCookieBotPreferences");a&&a.addEventListener("click",(()=>{this.refuseAndSaveAll()})),document.getElementById("changeCookieBotPreferences")&&document.getElementById("changeCookieBotPreferences").addEventListener("click",(()=>{this.openDialog()}))}saveCookieBotPreferences(){const e=document.getElementById("ad_storage").checked,t=document.getElementById("ad_user_data").checked,a=document.getElementById("ad_personalization").checked,i=document.getElementById("analytics_storage").checked,o=document.getElementById("functionality_storage").checked,n=document.getElementById("personalization_storage").checked,s=document.getElementById("security_storage").checked;this.updateConsent(e,t,a,i,o,n,s),localStorage.setItem("dialogState","closed"),this.closeDialog()}defineTranslations(){return{hr:{title:"Privola za korištenje osobnih podataka",necessary_cookies_title:"Nužni kolačići",ad_storage_title:"Oglašavački kolačići",ad_user_data_title:"Korištenje podataka o oglašavanju",ad_personalization_title:"Personalizacija oglasa",analytics_storage_title:"Kolačići analitike",functionality_storage_title:"Kolačići funkcionalnosti",personalization_storage_title:"Kolačići personalizacije",security_storage_title:"Kolačići sigurnosti",button_title:"Spremi odabrano",accept_all_button_title:"Prihvati sve",refuse_all_button_title:"Odbaci sve",consent_text:"Ova web-stranica koristi kolačiće. Kolačiće upotrebljavamo kako bismo personalizirali sadržaj i oglase, omogućili značajke društvenih medija i analizirali promet.",consent_link:"<a href='https://policies.google.com/privacy' target='_blank'>Opširnije</a>"},en:{title:"Consent for the Use of Personal Data",necessary_cookies_title:"Necessary Cookies",ad_storage_title:"Advertising Cookies",ad_user_data_title:"Use of Advertising Data",ad_personalization_title:"Ad Personalization",analytics_storage_title:"Analytics Cookies",functionality_storage_title:"Functionality Cookies",personalization_storage_title:"Personalization Cookies",security_storage_title:"Security Cookies",button_title:"Save Selected",accept_all_button_title:"Accept All",refuse_all_button_title:"Refuse All",consent_text:"This website uses cookies. We use cookies to personalize content and ads, to provide social media features, and to analyze our traffic.",consent_link:"<a href='https://policies.google.com/privacy' target='_blank'>Learn More</a>"},de:{title:"Zustimmung zur Verwendung persönlicher Daten",necessary_cookies_title:"Notwendige Cookies",ad_storage_title:"Werbe-Cookies",ad_user_data_title:"Nutzung von Werbedaten",ad_personalization_title:"Anzeigenpersonalisierung",analytics_storage_title:"Analytische Cookies",functionality_storage_title:"Funktionalitäts-Cookies",personalization_storage_title:"Personalisierungs-Cookies",security_storage_title:"Sicherheits-Cookies",button_title:"Ausgewähltes speichern",accept_all_button_title:"Alles akzeptieren",refuse_all_button_title:"Alles ablehnen",consent_text:"Diese Webseite verwendet Cookies. Wir verwenden Cookies, um Inhalte und Anzeigen zu personalisieren, Funktionen für soziale Medien anzubieten und unseren Verkehr zu analysieren.",consent_link:"<a href='https://policies.google.com/privacy' target='_blank'>Mehr erfahren</a>"},it:{title:"Consenso per l'uso dei dati personali",necessary_cookies_title:"Cookie necessari",ad_storage_title:"Cookie pubblicitari",ad_user_data_title:"Uso dei dati pubblicitari",ad_personalization_title:"Personalizzazione degli annunci",analytics_storage_title:"Cookie analitici",functionality_storage_title:"Cookie di funzionalità",personalization_storage_title:"Cookie di personalizzazione",security_storage_title:"Cookie di sicurezza",button_title:"Salva selezionati",accept_all_button_title:"Accetta tutto",refuse_all_button_title:"Rifiuta tutto",consent_text:"Questo sito utilizza i cookie. Utilizziamo i cookie per personalizzare contenuti e annunci, fornire funzioni dei social media e analizzare il nostro traffico.",consent_link:"<a href='https://policies.google.com/privacy' target='_blank'>Scopri di più</a>"},ru:{title:"Согласие на использование личных данных",necessary_cookies_title:"Необходимые куки",ad_storage_title:"Куки для рекламы",ad_user_data_title:"Использование данных рекламы",ad_personalization_title:"Персонализация рекламы",analytics_storage_title:"Аналитические куки",functionality_storage_title:"Функциональные куки",personalization_storage_title:"Куки персонализации",security_storage_title:"Куки безопасности",button_title:"Сохранить выбранное",accept_all_button_title:"Принять все",refuse_all_button_title:"Отклонить все",consent_text:"Этот сайт использует куки. Мы используем куки для персонализации контента и рекламы, предоставления функций социальных сетей и анализа трафика.",consent_link:"<a href='https://policies.google.com/privacy' target='_blank'>Узнать больше</a>"},pl:{title:"Zgoda na używanie danych osobowych",necessary_cookies_title:"Niezbędne ciasteczka",ad_storage_title:"Ciasteczka reklamowe",ad_user_data_title:"Użycie danych reklamowych",ad_personalization_title:"Personalizacja reklam",analytics_storage_title:"Ciasteczka analityczne",functionality_storage_title:"Ciasteczka funkcjonalności",personalization_storage_title:"Ciasteczka personalizacji",security_storage_title:"Ciasteczka bezpieczeństwa",button_title:"Zapisz wybrane",accept_all_button_title:"Zaakceptuj wszystko",refuse_all_button_title:"Odrzuć wszystko",consent_text:"Ta strona używa ciasteczek. Używamy ciasteczek do personalizacji treści i reklam, oferowania funkcji mediów społecznościowych i analizowania naszego ruchu.",consent_link:"<a href='https://policies.google.com/privacy' target='_blank'>Dowiedz się więcej</a>"},sl:{title:"Privolitev za uporabo osebnih podatkov",necessary_cookies_title:"Nujni piškotki",ad_storage_title:"Oglaševalski piškotki",ad_user_data_title:"Uporaba oglaševalskih podatkov",ad_personalization_title:"Personalizacija oglasov",analytics_storage_title:"Analitični piškotki",functionality_storage_title:"Piškotki funkcionalnosti",personalization_storage_title:"Piškotki personalizacije",security_storage_title:"Piškotki varnosti",button_title:"Shrani izbrano",accept_all_button_title:"Sprejmi vse",refuse_all_button_title:"Zavrni vse",consent_text:"Ta spletna stran uporablja piškotke. Uporabljamo piškotke za prilagajanje vsebine in oglasov, zagotavljanje funkcij socialnih medijev in analizo prometa.",consent_link:"<a href='https://policies.google.com/privacy' target='_blank'>Več informacij</a>"},cs:{title:"Souhlas s používáním osobních údajů",necessary_cookies_title:"Nezbytné cookies",ad_storage_title:"Reklamní cookies",ad_user_data_title:"Využití reklamních dat",ad_personalization_title:"Personalizace reklam",analytics_storage_title:"Analytické cookies",functionality_storage_title:"Funkční cookies",personalization_storage_title:"Cookies pro personalizaci",security_storage_title:"Bezpečnostní cookies",button_title:"Uložit vybrané",accept_all_button_title:"Přijmout vše",refuse_all_button_title:"Odmítnout vše",consent_text:"Tento web používá cookies. Cookies používáme k personalizaci obsahu a reklam, k poskytování funkcí sociálních sítí a k analýze našeho provozu.",consent_link:"<a href='https://policies.google.com/privacy' target='_blank'>Více informací</a>"},nl:{title:"Toestemming voor het gebruik van persoonsgegevens",necessary_cookies_title:"Noodzakelijke cookies",ad_storage_title:"Advertentiecookies",ad_user_data_title:"Gebruik van advertentiegegevens",ad_personalization_title:"Advertentiepersonalisatie",analytics_storage_title:"Analytische cookies",functionality_storage_title:"Functionaliteitscookies",personalization_storage_title:"Personalisatiecookies",security_storage_title:"Beveiligingscookies",button_title:"Geselecteerde opslaan",accept_all_button_title:"Accepteer alles",refuse_all_button_title:"Weiger alles",consent_text:"Deze website gebruikt cookies. We gebruiken cookies om content en advertenties te personaliseren, om sociale mediafuncties te bieden en om ons verkeer te analyseren.",consent_link:"<a href='https://policies.google.com/privacy' target='_blank'>Meer weten</a>"},is:{title:"Samþykki fyrir notkun persónuupplýsinga",necessary_cookies_title:"Nauðsynlegar kökur",ad_storage_title:"Auglýsingakökur",ad_user_data_title:"Notkun auglýsingagagna",ad_personalization_title:"Sérsniðnar auglýsingar",analytics_storage_title:"Greiningarkökur",functionality_storage_title:"Virknikökur",personalization_storage_title:"Sérsniðnar kökur",security_storage_title:"Öryggiskökur",button_title:"Vista val",accept_all_button_title:"Samþykkja allt",refuse_all_button_title:"Hafna öllu",consent_text:"Þessi vefsíða notar kökur. Við notum kökur til að sérsníða efni og auglýsingar, bjóða upp á samfélagsmiðlaeiginleika og greina umferð okkar.",consent_link:"<a href='https://policies.google.com/privacy' target='_blank'>Læra meira</a>"},fr:{title:"Consentement pour l'utilisation des données personnelles",necessary_cookies_title:"Cookies nécessaires",ad_storage_title:"Cookies publicitaires",ad_user_data_title:"Utilisation des données publicitaires",ad_personalization_title:"Personnalisation des publicités",analytics_storage_title:"Cookies analytiques",functionality_storage_title:"Cookies de fonctionnalité",personalization_storage_title:"Cookies de personnalisation",security_storage_title:"Cookies de sécurité",button_title:"Sauvegarder la sélection",accept_all_button_title:"Tout accepter",refuse_all_button_title:"Tout refuser",consent_text:"Ce site utilise des cookies. Nous utilisons des cookies pour personnaliser le contenu et les annonces, offrir des fonctionnalités de médias sociaux et analyser notre trafic.",consent_link:"<a href='https://policies.google.com/privacy' target='_blank'>En savoir plus</a>"},hu:{title:"Hozzájárulás a személyes adatok használatához",necessary_cookies_title:"Szükséges sütik",ad_storage_title:"Hirdetési sütik",ad_user_data_title:"Hirdetési adatok használata",ad_personalization_title:"Hirdetések személyre szabása",analytics_storage_title:"Analitikai sütik",functionality_storage_title:"Funkcionalitás sütik",personalization_storage_title:"Személyre szabási sütik",security_storage_title:"Biztonsági sütik",button_title:"Kiválasztottak mentése",accept_all_button_title:"Összes elfogadása",refuse_all_button_title:"Összes elutasítása",consent_text:"Ez a weboldal sütiket használ. Sütiket használunk a tartalom és hirdetések személyre szabásához, a közösségi média funkciók biztosításához és forgalmunk elemzéséhez.",consent_link:"<a href='https://policies.google.com/privacy' target='_blank'>Tudj meg többet</a>"}}}}export default FerCookieBot;